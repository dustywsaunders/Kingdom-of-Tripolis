{"version":3,"sources":["components/Controls.js","actions/index.js","components/ControlsContainer.js","App.js","sagas/index.js","sockets/index.js","utils/name.js","reducers/moves.js","reducers/index.js","store.js","index.js"],"names":["Controls","props","dispatch","window","addEventListener","e","preventDefault","keyCode","console","log","handleKeyDown","react_default","a","createElement","onClick","nextMoveId","connect","action","player","type","id","time","Date","now","sendMove","ControlsComponent","App","ControlsContainer_Controls","handleNewMessage","regenerator_default","mark","params","wrap","_context","prev","next","takeEvery","username","socket","send","JSON","stringify","stop","this","setupSocket","WebSocket","onopen","message","onmessage","event","data","parse","chance","Chance","animal","moves","state","arguments","length","undefined","concat","combineReducers","devTools","__REDUX_DEVTOOLS_EXTENSION__","sagaMiddleware","createSagaMiddleware","enhancer","compose","applyMiddleware","store","createStore","reducer","run","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.890a3736.chunk.js","sourcesContent":["import React from 'react';\n\nconst Controls = props => {\n  const { dispatch } = props;\n\n  const handleKeyDown = e => {\n    e.preventDefault();\n\n    switch (e.keyCode) {\n      case 32:\n        return dispatch('Shoot', 'Me');\n      case 37:\n        return dispatch('Left', 'Me');\n      case 38:\n        return dispatch('Up', 'Me');\n      case 39:\n        return dispatch('Right', 'Me');\n      case 40:\n        return dispatch('Left', 'Me');\n      default:\n        console.log(e.keyCode);\n    }\n  };\n\n  window.addEventListener('keydown', e => {\n    handleKeyDown(e);\n  });\n\n  return (\n    <div>\n      <button onClick={() => dispatch('Left', 'Me')}>Left</button>\n      <button onClick={() => dispatch('Up', 'Me')}>Up</button>\n      <button onClick={() => dispatch('Right', 'Me')}>Right</button>\n      <button onClick={() => dispatch('Down', 'Me')}>Down</button>\n      <button onClick={() => dispatch('Shoot', 'Me')}>Shoot (Space)</button>\n    </div>\n  );\n};\n\nexport default Controls;\n","let nextMoveId = 0;\n\nconst SEND_MOVE = 'SEND_MOVE';\nconst RECEIVE_MOVE = 'RECEIVE_MOVE';\n\nexport const sendMove = (action, player) => ({\n  type: SEND_MOVE,\n  id: nextMoveId++,\n  action,\n  player,\n  time: Date.now()\n});\n\nexport const receiveMove = (action, player) => ({\n  type: RECEIVE_MOVE,\n  id: nextMoveId++,\n  action,\n  player,\n  time: Date.now()\n});\n","import { connect } from 'react-redux';\nimport ControlsComponent from './Controls';\nimport { sendMove } from '../actions';\n\nconst mapDispatchToProps = dispatch => ({\n  dispatch: (action, player) => {\n    dispatch(sendMove(action, player));\n  }\n});\n\nexport const Controls = connect(\n  () => ({}),\n  mapDispatchToProps\n)(ControlsComponent);\n","import React from 'react';\nimport './App.css';\nimport { Controls } from './components/ControlsContainer';\n\nconst App = () => (\n  <div>\n    <Controls />\n  </div>\n);\n\nexport default App;\n","import { takeEvery } from 'redux-saga/effects';\n\nconst SEND_MOVE = 'SEND_MOVE';\n\nconst handleNewMessage = function* handleNewMessage(params) {\n  yield takeEvery(SEND_MOVE, action => {\n    action.player = params.username;\n    params.socket.send(JSON.stringify(action));\n  });\n};\n\nexport default handleNewMessage;\n","import { receiveMove } from '../actions';\n\nconst setupSocket = dispatch => {\n  const SEND_MOVE = 'SEND_MOVE';\n\n  const socket = new WebSocket('ws://localhost:4000');\n\n  socket.onopen = () => {\n    socket.send(\n      JSON.stringify({\n        message: 'Player joined the game'\n      })\n    );\n  };\n\n  socket.onmessage = event => {\n    const data = JSON.parse(event.data);\n    switch (data.type) {\n      case SEND_MOVE:\n        dispatch(receiveMove(data.action, data.player));\n        break;\n      default:\n        break;\n    }\n  };\n\n  return socket;\n};\n\nexport default setupSocket;\n","import Chance from 'chance';\n\nconst chance = new Chance();\nexport default chance.animal();\n","const moves = (state = [], action) => {\n  switch (action.type) {\n    case 'SEND_MOVE':\n    case 'RECEIVE_MOVE':\n      return state.concat([\n        {\n          action: action.action,\n          player: action.player,\n          id: action.id,\n          time: action.time\n        }\n      ]);\n    default:\n      return state;\n  }\n};\n\nexport default moves;\n","import { combineReducers } from 'redux';\nimport moves from './moves';\n\nexport default combineReducers({\n  moves\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport handleNewMessage from './sagas';\nimport setupSocket from './sockets';\nimport username from './utils/name';\nimport reducer from './reducers';\n\nconst devTools =\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst enhancer = compose(\n  applyMiddleware(sagaMiddleware),\n  devTools\n);\nconst store = createStore(reducer, enhancer);\n\nconst socket = setupSocket(store.dispatch, username);\n\nsagaMiddleware.run(handleNewMessage, { socket, username });\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}